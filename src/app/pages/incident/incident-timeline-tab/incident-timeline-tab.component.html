<mat-drawer-container class="timeline-drawer-container">
  <mat-drawer-content class="timeline-content-wrapper">
    <div class="timeline-content dark:bg-gray-800">
      <ng-container *ngIf="incidentId; else missingIncident">
        <app-incident-event-component
          [incidentId]="incidentId"
          (addEventRequested)="openEventDrawer()"
          (editEventRequested)="openEventDrawer($event)"
        ></app-incident-event-component>
      </ng-container>
      <ng-template #missingIncident>
        <div class="timeline-empty-state">
          Não foi possível identificar o incidente. Retorne à aba de detalhes e selecione um registro válido.
        </div>
      </ng-template>
    </div>
  </mat-drawer-content>

  <mat-drawer
    #eventDrawer="matDrawer"
    class="event-drawer-panel"
    position="end"
    mode="over"
    [autoFocus]="false"
    (closedStart)="onEventDrawerClosed()"
  >
    <app-event-dialog-component
      [eventData]="drawerEventData"
      [isEdit]="isEventDrawerEdit"
      [incidentStartedAt]="incidentStartedAt"
      (cancel)="closeEventDrawer()"
      (submitEvent)="handleEventSubmit($event)"
    ></app-event-dialog-component>
  </mat-drawer>
</mat-drawer-container>
