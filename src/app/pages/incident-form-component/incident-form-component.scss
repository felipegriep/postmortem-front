:host {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    background: #f7fafc;
    min-height: 100vh;
    width: 100%;
    padding-bottom: 2rem;
}

.incident-drawer-container {
    width: 100%;
    min-height: 100vh;
}

.event-drawer-panel {
    width: min(460px, 100vw);
    max-width: 100%;
    border-left: none;
    background: transparent;
    padding: 0;
}

:host-context(.dark) {
    background: #0f172a;
}

:host ::ng-deep .mat-mdc-form-field {
    width: 100%;
    --mdc-filled-text-field-container-shape: 0.75rem;
    --mdc-filled-text-field-container-color: #ffffff;
    --mdc-filled-text-field-label-text-color: rgba(71,85,105,0.95);
    --mdc-filled-text-field-focus-label-text-color: var(--app-primary, #0ea5e9);
    --mdc-filled-text-field-hover-label-text-color: var(--app-primary, #0ea5e9);
    --mdc-filled-text-field-input-text-color: #0f172a;
    --mdc-filled-text-field-focus-input-text-color: #0f172a;
    --mdc-filled-text-field-active-indicator-color: transparent;
    --mdc-filled-text-field-focus-active-indicator-color: transparent;
    --mdc-filled-text-field-disabled-active-indicator-color: transparent;
}

:host ::ng-deep .mat-mdc-text-field-wrapper {
    border-radius: 0.75rem;
    box-shadow: inset 0 0 0 1px rgba(148,163,184,0.25);
    transition: box-shadow 180ms ease, background-color 180ms ease;
    background-color: #ffffff;
}

:host ::ng-deep .mat-mdc-form-field:hover .mat-mdc-text-field-wrapper {
    box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--app-primary, #0ea5e9) 30%, white 70%);
    background-color: #ffffff;
}

:host ::ng-deep .mat-mdc-form-field.mat-mdc-form-field-type-mat-select .mat-mdc-text-field-wrapper {
    background-color: #ffffff !important;
    backdrop-filter: none !important;
    box-shadow: inset 0 0 0 1px rgba(148,163,184,0.35);
}

:host ::ng-deep .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper {
    box-shadow: inset 0 0 0 2px var(--app-primary, #0ea5e9);
    background-color: #ffffff;
}

:host ::ng-deep .mat-mdc-form-field.has-error .mat-mdc-text-field-wrapper {
    box-shadow: inset 0 0 0 2px rgba(248,113,113,0.95);
    background-color: #ffffff;
}

:host ::ng-deep .mat-mdc-form-field.has-error .mdc-floating-label,
:host ::ng-deep .mat-mdc-form-field.has-error.mat-focused .mdc-floating-label {
    color: rgba(220,38,38,0.95);
}

:host ::ng-deep .mat-mdc-form-field-subscript-wrapper {
    margin: 0;
    padding: 0 0.75rem 0.25rem;
}

:host ::ng-deep textarea.mat-mdc-input-element {
    min-height: 8rem;
}

:host ::ng-deep textarea.impact-textarea {
    min-height: 350px !important;
    height: 350px !important;
}

:host ::ng-deep .mat-mdc-select-trigger {
    align-items: center;
}

:host ::ng-deep .mat-mdc-select-panel {
    border-radius: 0.75rem !important;
    box-shadow: 0 10px 30px rgba(15,23,42,0.15) !important;
    border: 1px solid rgba(148,163,184,0.25) !important;
    background: #ffffff !important;
    color: #1f2937 !important;
}

:host ::ng-deep .mat-mdc-option.mat-mdc-option-active,
:host ::ng-deep .mat-mdc-option.mat-mdc-option-highlighted:not(.mat-mdc-option-disabled) {
    background: rgba(14,165,233,0.12) !important;
    color: #0f172a !important;
}

:host-context(.dark) ::ng-deep .mat-mdc-form-field {
    --mdc-filled-text-field-container-color: #ffffff;
    --mdc-filled-text-field-label-text-color: rgba(30,41,59,0.85);
    --mdc-filled-text-field-input-text-color: #0f172a;
    --mdc-filled-text-field-focus-input-text-color: #0f172a;
}

:host-context(.dark) ::ng-deep .mat-mdc-text-field-wrapper {
    box-shadow: inset 0 0 0 1px rgba(148,163,184,0.25);
    background-color: #ffffff;
}

:host-context(.dark) ::ng-deep .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper {
    background-color: #ffffff;
}

:host-context(.dark) ::ng-deep .mat-mdc-form-field.has-error .mat-mdc-text-field-wrapper {
    background-color: #ffffff;
}

:host-context(.dark) ::ng-deep .mat-mdc-select-panel {
    background: #ffffff !important;
    color: #1f2937 !important;
    border: 1px solid rgba(148,163,184,0.25) !important;
    box-shadow: 0 12px 28px rgba(15,23,42,0.28) !important;
}

:host-context(.dark) ::ng-deep .mat-mdc-option {
    color: #1f2937 !important;
}

:host-context(.dark) ::ng-deep .mat-mdc-option.mat-mdc-option-active,
:host-context(.dark) ::ng-deep .mat-mdc-option.mat-mdc-option-highlighted:not(.mat-mdc-option-disabled) {
    background: rgba(14,165,233,0.12) !important;
    color: #0f172a !important;
}

:host ::ng-deep button[mat-flat-button],
:host ::ng-deep button[mat-stroked-button] {
    border-radius: 0.75rem;
    padding-left: 1.75rem;
    padding-right: 1.75rem;
}

:host ::ng-deep button[mat-stroked-button].cancel-button {
    background-color: #fee2e2;
    border-color: #fee2e2;
    color: #991b1b;
}

:host ::ng-deep button[mat-stroked-button].cancel-button:hover,
:host ::ng-deep button[mat-stroked-button].cancel-button:focus-visible {
    background-color: #fca5a5;
    border-color: #fca5a5;
    color: #991b1b;
}

:host ::ng-deep button[mat-stroked-button].cancel-button:disabled {
    background-color: rgba(254, 226, 226, 0.6);
    border-color: rgba(254, 226, 226, 0.6);
    color: rgba(255, 255, 255, 0.75);
}

:host ::ng-deep button[mat-flat-button] {
    box-shadow: 0 4px 12px rgba(14,165,233,0.35);
}

:host ::ng-deep .incident-primary-button.mat-mdc-unelevated-button {
    --mdc-filled-button-container-color: #0ea5e9;
    --mdc-filled-button-label-text-color: #ffffff;
    --mdc-filled-button-container-shape: 0.75rem;
    background-color: #0ea5e9;
    color: #ffffff;
}

:host ::ng-deep .incident-primary-button.mat-mdc-unelevated-button:not(.mat-mdc-button-disabled):hover,
:host ::ng-deep .incident-primary-button.mat-mdc-unelevated-button:not(.mat-mdc-button-disabled):focus-visible {
    background-color: #0284c7;
    box-shadow: 0 6px 16px rgba(2,132,199,0.35);
}

:host ::ng-deep .incident-primary-button.mat-mdc-unelevated-button.mat-mdc-button-disabled {
    background-color: rgba(14,165,233,0.35);
    color: rgba(255,255,255,0.75);
}

:host ::ng-deep button[mat-flat-button]:disabled {
    box-shadow: none;
}

:host-context(.dark) ::ng-deep button[mat-stroked-button] {
    border-color: rgba(148,163,184,0.6);
    color: rgba(226,232,240,0.85);
}

:host ::ng-deep .mat-mdc-form-field .mat-mdc-form-field-hint-wrapper,
:host ::ng-deep .mat-mdc-form-field .mat-mdc-form-field-error-wrapper {
    padding: 0 0.5rem;
}

:host ::ng-deep .mat-mdc-form-field-hint.mat-mdc-form-field-hint-end {
    background: #ffffff;
    color: #0f172a;
    padding: 0.1rem 0.5rem;
    border-radius: 0.5rem;
    font-weight: 600;
}

:host ::ng-deep .flatpickr-input[matinput] {
    position: absolute !important;
    opacity: 0 !important;
    pointer-events: none !important;
    height: 0 !important;
}

:host ::ng-deep .flatpickr-alt-input {
    width: 100%;
    cursor: text;
    color: inherit;
    background: #ffffff;
    border-radius: 0.75rem;
}

:host ::ng-deep button.mat-mdc-icon-button {
    color: rgba(71,85,105,0.85);
}

:host ::ng-deep button.mat-mdc-icon-button fa-icon {
    width: 1rem;
    height: 1rem;
}

:host-context(.dark) ::ng-deep button.mat-mdc-icon-button {
    color: rgba(71,85,105,0.85);
}

:host ::ng-deep .mat-mdc-form-field.has-error button.mat-mdc-icon-button,
:host ::ng-deep .mat-mdc-form-field.has-error .mat-icon {
    color: rgba(248,113,113,0.95);
}

:host-context(.dark) ::ng-deep .flatpickr-alt-input {
    background: #ffffff;
    color: #0f172a;
}
